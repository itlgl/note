---
title: Ubuntu20.04 IDEA/AndroidStudio无法输入中文
date: 2022-06-01 15:19:55 
categories: 
- note
tags: 
---
### 现象  
在Idea系列产品中，使用ibus输入中文，超过两个中文候选时，输入法直接不显示，后续再也看不到中文候选框，也无法正常输入中文。  
这个和网上描述的输入法在左下角不太一致，我的根本无法输入中文。  
  
### 解决方案  
现在搜索到两个解决方案，方案一是简单但不完全的解决方案，方案二是完全解决方案（未尝试）  
  
### 方案一  
参考[此博客](https://blog.csdn.net/w710537643/article/details/114386827)中的方式，下载java-11.0.7-jetbrain的压缩包，我使用文中的[坚果云链接](https://www.jianguoyun.com/p/DQDdJs4QtIDzBxj6y9oD)下载的。  
设置完成之后，启动的ide能输入中文了，但是候选框一直在左下角，如果想彻底解决，参考方案二。  
下载完成后，解压到`/opt`目录下  
  
IDEA：  
编辑IDEA bin目录下的idea.sh()文件（ex:/opt/idea-IC-221.5591.52/bin/idea.sh），在文件头增加`export STUDIO_JDK=/opt/java-11.0.7-jetbrain`，重启idea即可。  
编辑完成后，文件如下所示：  
```cmd  
#!/bin/sh  
# Copyright 2000-2021 JetBrains s.r.o. and contributors. Use of this source code is governed by the Apache 2.0 license that can be found in the LICENSE file.  
  
# ---------------------------------------------------------------------  
# IntelliJ IDEA startup script.  
# ---------------------------------------------------------------------  
  
export IDEA_JDK=/opt/java-11.0.7-jetbrain  
。。。  
```  
  
AndroidStudio:  
编辑AndroidStudio bin目录下的idea.sh文件，在文件头增加`export STUDIO_JDK=/opt/java-11.0.7-jetbrain`，重启idea即可。  
  
### 方案二（未尝试）  
参照[此链接](https://blog.csdn.net/dream_follower/article/details/119537826)，自己编译一个[jetBrainsRuntime](https://github.com/JetBrains/JetBrainsRuntime)，然后按照方案一设置环境变量即可。  
jetBrainsRuntime [mirros备用下载](https://gitee.com/mirrors/JetBrainsRuntime)